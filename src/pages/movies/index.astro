---
import Layout from '@/layouts/Layout.astro';
import { getCollection } from 'astro:content';
import FeaturedMovies from '@/components/movies/FeaturedMovies.astro';


const movies = await getCollection('movies');
const featuredMovies = movies.slice(0, 6);

export const prerender = true;
---

<Layout title="MoviesWorld - Demostración de Astro SSG + Content Collections">
  
  <section class="container mx-auto px-4 pb-12">
    <div class="bg-gray-100 border border-gray-300 p-8 rounded-2xl mb-12">
      <div class="flex flex-row items-center justify-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clapperboard-icon lucide-clapperboard"><path d="M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z"/><path d="m6.2 5.3 3.1 3.9"/><path d="m12.4 3.4 3.1 4"/><path d="M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"/></svg>
        <h2 class="text-4xl font-bold text-center text-gray-800">
          Películas Destacadas
        </h2>
      </div>
      <p class="text-center text-gray-600 text-lg">
        Páginas generadas estáticamente con Content Collections
      </p>
    </div>
    
    <FeaturedMovies movies={featuredMovies} />
    
    <div class="text-center mt-12">
      <a 
        href="/movies/gallery" 
        class="inline-block bg-sky-500 border border-bg-sky-700 hover:bg-sky-400 px-8 py-4 rounded-full font-semibold text-white hover:glow-effect transition-all transform hover:scale-105"
      >
        Ver Galería Completa ({movies.length} películas)
      </a>
    </div>
  </section>
</Layout>